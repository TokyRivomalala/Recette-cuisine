import{a as D}from"./chunk-S75YNQNL.js";import{a as O,b as C}from"./chunk-2B6N5SLQ.js";import{a as T,d as A,e as j,g as q,i as Q,j as R,k as $,p as G,s as H,u as P}from"./chunk-PSOV4KYA.js";import{n as k,r as U}from"./chunk-D65I6S5B.js";import{Ab as L,Bb as I,Cb as p,Db as M,Fb as V,Ka as d,La as g,aa as v,ba as x,cb as b,da as l,ea as u,eb as f,la as y,nb as o,nc as F,ob as r,oc as N,pb as h,qb as S,sb as c,tb as _,yb as E,zb as w}from"./chunk-6KTIJOB7.js";var Z=["f"];function ee(n,e){if(n&1){let a=S();o(0,"button",13),c("click",function(){l(a);let t=_();return u(t.onDelete())}),p(1,"Delete"),r()}}var B=(()=>{let e=class e{constructor(i){this.shoppingListService=i,this.editMode=!1}ngOnInit(){this.subscription=this.shoppingListService.startedEditing.subscribe(i=>{this.editedItemIndex=i,this.editMode=!0,this.editedItem=this.shoppingListService.getIngredient(i),this.shoppingListForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onSubmit(i){let t=i.value,s=new O(t.name,t.amount);this.editMode?this.shoppingListService.updateIngredient(this.editedItemIndex,s):this.shoppingListService.addIngredient(s),this.editMode=!1,i.reset()}onClear(){this.shoppingListForm.reset(),this.editMode=!1}onDelete(){this.shoppingListService.deleteIngredient(this.editedItemIndex),this.onClear()}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(t){return new(t||e)(g(C))},e.\u0275cmp=v({type:e,selectors:[["app-shopping-edit"]],viewQuery:function(t,s){if(t&1&&E(Z,5),t&2){let m;w(m=L())&&(s.shoppingListForm=m.first)}},decls:26,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["f","ngForm"],[1,"col-sm-4","form-group"],["for","name"],["type","text","name","name","id","name","ngModel","","required","",1,"form-control"],[1,"col-sm-3","form-group"],["for","amount"],["type","number","name","amount","id","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,s){if(t&1){let m=S();o(0,"div",0)(1,"div",1)(2,"form",2,3),c("ngSubmit",function(){l(m);let W=I(3);return u(s.onSubmit(W))}),o(4,"div",0)(5,"div",4)(6,"label",5),p(7,"Name"),r(),h(8,"input",6),r(),o(9,"div",7)(10,"label",8),p(11,"Amount"),r(),h(12,"input",9),r()(),o(13,"div",0)(14,"div",1)(15,"button",10),p(16),r(),o(17,"span"),p(18,"\xA0"),r(),b(19,ee,2,0,"button",11),o(20,"span"),p(21,"\xA0"),r(),o(22,"button",12),c("click",function(){return s.onClear()}),p(23,"Clear"),r(),o(24,"span"),p(25,"\xA0"),r()()()()()()}if(t&2){let m=I(3);d(15),f("disabled",!m.valid),d(),M(s.editMode?"Update":"Add"),d(3),f("ngIf",s.editMode)}},dependencies:[R,T,$,A,j,G,H,Q,q,N]});let n=e;return n})();function ie(n,e){if(n&1){let a=S();o(0,"a",4),c("click",function(){let s=l(a).index,m=_();return u(m.onEditItem(s))}),p(1),r()}if(n&2){let a=e.$implicit;d(),V(" ",a.name," (",a.amount,") ")}}var J=(()=>{let e=class e{ngOnInit(){this.ingredients=this.shoppingListService.getIngredients(),this.loggingService.printLog("Hello from ShoppingListComponent ngOnInit ..."),this.subscription=this.shoppingListService.ingredientsChanged.subscribe(i=>{this.ingredients=i})}ngOnDestroy(){this.subscription.unsubscribe()}constructor(i,t){this.shoppingListService=i,this.loggingService=t}onEditItem(i){this.shoppingListService.startedEditing.next(i)}};e.\u0275fac=function(t){return new(t||e)(g(C),g(D))},e.\u0275cmp=v({type:e,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["style","cursor: pointer","class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1),h(2,"app-shopping-edit")(3,"hr"),o(4,"ul",2),b(5,ie,2,2,"a",3),r()()()),t&2&&(d(5),f("ngForOf",s.ingredients))},dependencies:[F,B]});let n=e;return n})();var ue=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x({type:e}),e.\u0275inj=y({imports:[P,k.forChild([{path:"",component:J}]),U]});let n=e;return n})();export{ue as ShoppingListModule};
